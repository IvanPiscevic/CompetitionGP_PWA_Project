<!DOCTYPE html>
<html lang="en">
<head>
    <title>CompetitionGP.com</title>
    <meta charset="UTF-8">
    <meta name="keywords" content="Race, Racing, Rally, Competition, GP">
    <meta name="description" content="Racing News Website">
    <meta name="author" content="Ivan Piščević">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../index/style.css">
</head>
<body>
    <header class="header__wrapper">
        <img src="../../img/logo/logo_crop_transparent.png" class="header__wrapper--img" alt="logo">
        <div class="header__wrapper_content">
            <h1>CompetitionGP</h1><br>
            <!-- <p>Home of your motorsport news</p> -->
            <nav class="nav__wrapper">
                <a href="../index/index.php">Home</a>
                <a href="../category/category.php?id=formula1">Formula 1</a>
                <a href="../category/category.php?id=wrc">WRC</a>
                <a href="../administration/allNews.php">Administration</a>
                <a href="#">Insert</a>
                <a href="../login/login.php">Login</a> 
            </nav>
        </div>
    </header>

    <main class="article__wrapper">
       <section class="form__section">
            <h2>Insert a new article</h2>
            <form enctype="multipart/form-data" id="insert_form" name="insert_form" method="post" action="insert.php">
                <div class="form_header_wrapper">
                    <label for="articleHeader">Article Header:</label>
                    <input class="form_header" id="articleHeader" name="articleHeader" type="text"><br>
                    <br><span id="titleError"></span>
                </div>

                <label for="articleSummary">Article summary:</label><br>
                <textarea class="form_summary" id="articleSummary" name="articleSummary" type="textarea"></textarea><br>
                <span id="summaryError"></span><br>

                <label for="articleMain">Article content:</label><br>
                <textarea class="form_main" id="articleMain" name="articleMain" type="textarea"></textarea><br>
                <span id="textError"></span><br>

                <label for="articleCategories">Choose category:</label>
                <select class="form_categories" id="articleCategories" name="articleCategories">
                    <option value="formula1">Formula 1</option>
                    <option value="wrc">WRC</option>
                </select><br>
                <span id="categoryError"></span><br>

                <label for="articleImage">Add image:</label>
                <input class="form_image" id="articleImage" name="articleImage" type="file" accept="image/jpeg, image/png"><br>
                <span id="pictureError"></span><br>

                <label for="articleArchive">Show article on website:</label>
                <input class="form_checkbox" id="articleArchive" name="articleArchive" type="checkbox"> Yes<br>
                
                <div class="form_submit_wrapper">
                    <button type="submit" class="form_submit" id="articleSubmit" name="articleSubmit" value="articleSubmit">Submit article</button>
                </div><br>

                <script type="text/javascript">
                    document.getElementById("articleSubmit").onclick = function(event) {
                        var submitForm = true;
            
                        var title = document.getElementById("articleHeader").value;
                        if (title.length < 5 || title.length > 30) {
                            submitForm = false;
                            document.getElementById("titleError").innerHTML = "Article title must be between 5 and 30 characters!";
                            document.getElementById("titleError").style.color = "red";
                            document.getElementById("articleHeader").style.border = "1px dashed red";
                        }
            
                        var summary = document.getElementById("articleSummary").value;
                        console.log(summary);
                        if (summary.length < 10 || summary.length > 100) {
                            submitForm = false;
                            document.getElementById("summaryError").innerHTML = "Article summary must be between 10 and 100 characters!";
                            document.getElementById("summaryError").style.color = "red";
                            document.getElementById("articleSummary").style.border = "1px dashed red";
                        }
            
                        var text = document.getElementById("articleMain").value;
                        if (text.length == 0) {
                            submitForm = false;
                            document.getElementById("textError").innerHTML = "Article text cannot be empty!";
                            document.getElementById("textError").style.color = "red";
                            document.getElementById("articleMain").style.border = "1px dashed red";
                        }
            
                        var pictureArray = document.getElementById("articleImage");
                        var picture = pictureArray.value;

                        if (picture == 0) {
                            submitForm = false;
                            document.getElementById("pictureError").innerHTML = "Article picture must be selected!";
                            document.getElementById("pictureError").style.color = "red";
                            document.getElementById("articleImage").style.border = "1px dashed red";
                        }
            
                        var categoryArray = document.getElementById("articleCategories");
                        var category = categoryArray.value;

                        if (category == 0) {
                            submitForm = false;
                            document.getElementById("categoryError").innerHTML = "Article category must be selected!";
                            document.getElementById("categoryError").style.color = "red";
                            document.getElementById("articleCategory").style.border = "1px dashed red";
                        }

                        if (submitForm != true) {
                            event.preventDefault();
                        }
                    };
            
                </script>
               
            </form>
       </section>
    </main>

    <footer class="footer__wrapper">
        <p class="footer_content">News from motorsport 2022 | © competitiongp.com | Insert</p>
    </footer>
</body>
</html>